 <!--Model-->
  <div bsModal #primaryModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-primary" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Add Employees</h4>       
          <button type="button" class="close" (click)="primaryModal.hide()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!--Form starts here-->
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <strong>Add Employee</strong> 
              </div>
              <div class="card-body">
                <form #employeForm="ngForm" (ngSubmit)="onSubmit(employeForm)"  enctype="multipart/form-data" class="form-horizontal">
                  <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="userName">User Name</label>
                    <div class="col-md-9">
                      <input type="text" required #username="ngModel" name="username" [ngModel]="employee.username" [class.is-invalid]="username.invalid && username.touched" placeholder="Enter username" class="form-control" ngModel>
                      <small class="text-danger" [class.d-none]="username.valid || username.untouched">User name is required</small>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="first_name">First Name</label>
                    <div class="col-md-9">
                      <input type="text" required #first_name="ngModel" name="first_name" [ngModel]="employee.first_name" [class.is-invalid]="first_name.invalid && first_name.touched" placeholder="Enter first name" class="form-control" ngModel>
                      <small class="text-danger" [class.d-none]="first_name.valid || first_name.untouched">First name is required</small>
                    </div> 
                  </div>
                  <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="last_name">Last Name</label>
                    <div class="col-md-9">
                      <input type="text" required #last_name="ngModel" name="last_name" [ngModel]="employee.last_name" [class.is-invalid]="last_name.invalid && last_name.touched" class="form-control" placeholder="Enter last name" ngModel>
                      <small class="text-danger" [class.d-none]="last_name.valid || last_name.untouched">Last name is required</small>
                    </div>
                  </div>
                  
                  <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="email">Email </label>
                    <div class="col-md-9">
                      <input type="email" required #email="ngModel" name="email" [ngModel]="employee.email" [class.is-invalid]="email.invalid && email.touched" placeholder="Enter email" class="form-control" name="email" ngModel>
                      <small class="text-danger" [class.d-none]="email.valid || email.untouched">Email is required</small>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="select1">User Type</label>
                    <div class="col-md-9">
                      <select required #role="ngModel" name="role" [class.invalid]="role.invalid || role.touched" class="form-control" ngModel>
                        <option value="">Please select</option>
                        <option *ngFor="let userType of userTypeList" [value]="userType.id">{{userType.role}}</option>
                      </select>
                      <small class="text-danger" [class.d-none]="role.valid || role.untouched">Please choose your role</small>
                    </div>
                  </div>
                  <!-- <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="type">User Type</label>
                    <div class="col-md-9 col-form-label">
                      <div class="form-check form-check-inline mr-1" id="inline-radios">
                        <input class="form-check-input" type="radio" name="inline-radios" id="true" name="inline-radios"> 
                        <input class="form-check-input" type="radio" value="1" [(ngModel)]="employee.type" name="type"  [checked]="true"  #activity="ngModel"/>
                        <label class="form-check-label" for="inlineRadio1">Super Admin</label>
                      </div>
                      <div class="form-check form-check-inline mr-1">
                        <input class="form-check-input" type="radio" value="2" [(ngModel)]="employee.type" name="type" [checked]="true"  #activity="ngModel"/>
                        <label class="form-check-label" for="inlineRadio2">False</label>
                      </div>
                    </div>
                  </div> -->
                  <!-- <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="password-input">Password</label>
                    <div class="col-md-9">
                      <input type="password"  required #password="ngModel" name="password" [ngModel]="employee.password" [class.is-invalid]="password.invalid && password.touched" placeholder="Enter Password"  class="form-control" ngModel>
                      <small class="text-danger" [class.d-none]="password.valid || password.untouched">Password is required</small>
                    </div>
                  </div> -->        
                <div class="card-footer">
                  <button [disabled]= "employeForm.form.invalid" type="submit" class="btn btn-sm btn-primary"><i class="fa fa-dot-circle-o"></i> Submit</button>
                  <button type="reset" class="btn btn-sm btn-danger" (click)="resetForm(employeForm)"><i class="fa fa-ban"></i> Reset</button>
                </div>
              </form>
            </div>
         </div>
         </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
  </div>
  </div>
  <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i>System users
          <div class="float-right">
            <div class="row"><div class="col-6 col-sm-5 col-md-2 col-xl mb-3 mb-xl-0">
                <button type="button" (click)="primaryModal.show()" class="btn btn-block btn-primary">Add employees</button>
           </div>
        </div>
     </div>
        </div>
        <div class="card-body">
          <table class="table table-bordered table-striped">
            <thead class="table-info">
              <tr>
                <th>Username</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Activity Status</th>
                <th>Role</th>
                <th>Password</th>
                <th>Update User</th>
                <!-- <th>Delete User</th> -->
              </tr>
            </thead>
            <tbody>
              <tr 
              *ngFor ="let user of userList| paginate: { itemsPerPage: pageSize, currentPage: p, totalItems: total }">
              <td>{{ user.username }}</td>
              <td>{{ user.first_name }}</td>
              <td>{{ user.last_name }}</td>
              <td>{{ user.email }}</td>
              <td>
                <label class="switch switch-label switch-primary">
                  <input type="checkbox" class="switch-input" [checked]="user.is_active"
                    (click)="toggleClicked(user)">
                  <span class="switch-slider" data-checked="On" data-unchecked="OFF"></span>
                </label>
              </td>
              <td>{{ user.type }}</td>
              <td>{{ user.password }}</td>
              <td>
                <button type="button" (click)="updateValues(user)" data-target="#editServiceModal" class="btn btn-primary-new">Update</button>
              </td>
              <!-- <td>
                <button type="button" (click)="deleteValues(user)" data-target="#deleteServiceModal" class="btn btn-primary-new">Delete</button>
              </td> -->
          </tr>
          <tr *ngIf="userList.length < 1 && !is_loading">
            <td colspan="6" class="text-center">There is No users upto now!</td>
          </tr>
          <tr *ngIf="is_loading">
            <td colspan="6" class="text-center padding-top">
              <div>
                <div class="lds-spinner margin-top">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
            </td>
          </tr> 
            </tbody>
          </table>
          <pagination-controls (pageChange)="pageChanged($event)" responsive="true" (pageBoundsCorrection)="pageChanged($event)" style="float: right">
          </pagination-controls>
        </div>
      </div>
    </div>
    <!--/.col-->
  <!--/.row-->

<!-- Delete Modal HTML -->
<div bsModal #deleteServiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form>
        <div class="modal-header">
          <h4 class="modal-title">Delete User</h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
            (click)="deleteServiceModal.hide()">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Are you sure you want to delete the user?</label>
          </div>
        </div>
        <div class="modal-footer">
          <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel"
            (click)="deleteServiceModal.hide()">
          <input type="submit" class="btn btn-info" value="Yes" (click)="deleteUserList()">
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Edit Modal HTML -->
<div bsModal #editServiceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form>
        <div class="modal-header">
          <h4 class="modal-title">Edit User Details</h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
            (click)="editServiceModal.hide()">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Id</label>
            <input type="text" #id="ngModel" class="form-control" [(ngModel)]="selected_user_id"
              name="id" required ngModel> 
          </div>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>User Name</label>
            <input type="text" #username="ngModel" class="form-control" [(ngModel)]="selected_user_name"
              name="username" required ngModel>
          </div>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>First Name</label>
            <input type="text" #first_name="ngModel" class="form-control" [(ngModel)]="selected_first_name"
              [ngModelOptions]="{standalone: true}" name="first_name" required ngModel>
          </div>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Last Name</label>
            <input type="text" #last_name="ngModel" class="form-control" [(ngModel)]="selescted_last_name"
              [ngModelOptions]="{standalone: true}" name="last_name" required ngModel>
          </div>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Email</label>
            <input type="text" #email="ngModel" class="form-control" [(ngModel)]="selected_user_email"
              [ngModelOptions]="{standalone: true}" name="email" required ngModel>
          </div>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>User Type</label>
            <select required #type="ngModel" name="tyoe" [(ngModel)]="selected_user_type" class="form-control" ngModel>
              <option value="">Please select</option>
              <option *ngFor="let userType of userTypeList" [value]="userType.id">{{userType.role}}</option>
            </select>
            <!-- <input type="text" class="form-control" [(ngModel)]="selected_type"
              [ngModelOptions]="{standalone: true}" name="category_name" required> -->
          </div>
        </div>
        <!-- <div class="form-group row">
          <label class="col-md-3 col-form-label" for="select1">Room Type</label>
          <div class="col-md-9">
            <select required #category="ngModel" name="category_id" [(ngModel)]="category_id" [class.invalid]="category.invalid || category.touched" class="form-control" ngModel>
              <option value="">Please select</option>
              <option *ngFor="let category of categoryList" [value]="category.id">{{category.name}}</option>
            </select>
            <small class="text-danger" [class.d-none]="category.valid || category.untouched">Please choose a category</small>
          </div>
        </div> -->
        <div class="modal-footer">
          <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel"
            (click)="editServiceModal.hide()">
          <input type="submit" class="btn btn-info" value="Save" (click)="updateUserList()">
        </div>   
      </form>
    </div>
  </div>
</div>


<!--Is_active update user popup-->
<div bsModal #activeModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form>
        <div class="modal-header">
          <h4 class="modal-title">Change Activation</h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
            (click)="cancel()">&times;</button>
        </div>
        <div class="modal-body">
          <p>Do you want to change activation?</p>
        </div>
        <div class="modal-footer">
          <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel" (click)="cancel()">
          <input type="submit" class="btn btn-info" value="Save" (click)="changeActivation()">
        </div>
      </form>
    </div>
  </div>
</div><!--user activity-->

<!-- 
<div class="col-6 animation-div2" *ngIf="is_page_loading">
  <div class="lds-spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
  </div>
</div> -->


